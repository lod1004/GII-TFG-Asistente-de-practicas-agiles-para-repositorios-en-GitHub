<form [formGroup]="repositoryForm" (ngSubmit)="submitRepo()">

  <div>
    <label>URL del repositorio principal:</label>
    <input id="mainRepositoryUrl" formControlName="mainRepositoryUrl" type="text"
      placeholder="Introduce la URL del repositorio" style="width: 50rem;" />
    <button type="button" (click)="addMainUrl()">-></button>
  </div>

  <div *ngIf="mainUrl">
    <strong>Repositorio principal:</strong>
    <p>{{ mainUrl }}</p>
  </div>
  <br>

  <div>
    <label>URL del repositorio de ejemplo para comparar:</label>
    <input id="sourceRepositoryUrl" formControlName="sourceRepositoryUrl" type="text"
      placeholder="Introduce la URL del repositorio" style="width: 50rem;" />
    <button type="button" (click)="addExampleUrl()">-></button>
  </div>

  <div *ngIf="exampleUrls.length > 0">
    <strong>Repositorios de ejemplo (Máximo 5):</strong>
    <ul>
      <li *ngFor="let url of exampleUrls; let i = index">
        {{ url }}
        <button type="button" (click)="removeExampleUrl(i)">Eliminar</button>
      </li>
    </ul>
  </div>
  <br>

  <div style="display: flex; flex-direction: row; justify-content: space-around;">
    <div>
      <input id="fullTimeAnalysis" type="radio" [value]="false" name="useTimeIntervals"
        formControlName="useTimeIntervals">
      <label class="custom-control-label" for="male">Analizar repositorios al completo</label>
    </div>

    <div>
      <input id="timeIntervalsAnalysis" type="radio" [value]="true" name="useTimeIntervals"
        formControlName="useTimeIntervals">
      <label class="custom-control-label" for="female">Analizar por intervalos de tiempo</label>
    </div>
  </div>
  <br>

  <div *ngIf="repositoryForm.controls.useTimeIntervals?.value == true">
    <div>
      <input id="useAbsolutes" type="radio" [value]="false" name="useRelativeDates" formControlName="useRelativeDates">
      <label class="custom-control-label" for="female">Usar intervalos de tiempo absolutos</label>
    </div>

    <div>
      <input id="useRelatives" type="radio" [value]="true" name="useRelativeDates" formControlName="useRelativeDates">
      <label class="custom-control-label" for="male">Usar intervalos de tiempo relativos</label>
    </div>
    <br>

    <div>
      <label *ngIf="repositoryForm.controls.useRelativeDates?.value == true">
        Introduce el número de intervalos de tiempo
        (Cada intervalo será 1/4 del tiempo de vida del repositorio):
      </label>
      <label *ngIf="repositoryForm.controls.useRelativeDates?.value == false">
        Introduce el número de intervalos de tiempo
        (Cada intervalo será 1 mes del tiempo de vida del repositorio):
      </label>
      <br>

      <label>
        <span>
          Intervalo de inicio
        </span>
        <input id="startTimeInterval" formControlName="startTimeInterval" type="number" style="width: 10rem;" />
      </label>
      <br>

      <label>
        <span>
          Intervalo de fin
        </span>
        <input id="endTimeInterval" formControlName="endTimeInterval" type="number" style="width: 10rem;" />
      </label>
      <br>

      <mat-error *ngIf="relativeTimeIntervalsError" style="color: red;">
        Solo se pueden seleccionar hasta 4 intervalos de tiempo relativos
      </mat-error>
      <mat-error *ngIf="timeIntervalsComparisonError" style="color: red;">
        El intervalo de fin debe ser mayor que el intervalo de inicio
      </mat-error>
      <mat-error *ngIf="timeIntervalsValueError" style="color: red;">
        Los intervalos de tiempo deben valer un número natural
      </mat-error>
    </div>
  </div>

  <br>
  <button type="submit" [disabled]="!mainUrl || exampleUrls.length === 0 || 
    repositoryForm.controls.useTimeIntervals.value == true && 
    (timeIntervalsComparisonError || relativeTimeIntervalsError || timeIntervalsValueError)">
    COMENZAR
  </button>
</form>